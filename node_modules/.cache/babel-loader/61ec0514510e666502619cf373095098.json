{"ast":null,"code":"import React,{useEffect,useRef}from'react';import Transition from'../utils/Transition.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Modal(_ref){var children=_ref.children,id=_ref.id,ariaLabel=_ref.ariaLabel,show=_ref.show,handleClose=_ref.handleClose;var modalContent=useRef(null);// close the modal on click outside\nuseEffect(function(){var clickHandler=function clickHandler(_ref2){var target=_ref2.target;if(!show||modalContent.current.contains(target))return;handleClose();};document.addEventListener('click',clickHandler);return function(){return document.removeEventListener('click',clickHandler);};});// close the modal if the esc key is pressed\nuseEffect(function(){var keyHandler=function keyHandler(_ref3){var keyCode=_ref3.keyCode;if(keyCode!==27)return;handleClose();};document.addEventListener('keydown',keyHandler);return function(){return document.removeEventListener('keydown',keyHandler);};});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Transition,{className:\"fixed inset-0 z-50 bg-white bg-opacity-75 transition-opacity blur\",show:show,enter:\"transition ease-out duration-200\",enterStart:\"opacity-0\",enterEnd:\"opacity-100\",leave:\"transition ease-out duration-100\",leaveStart:\"opacity-100\",leaveEnd:\"opacity-0\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(Transition,{id:id,className:\"fixed inset-0 z-50 overflow-hidden flex items-center justify-center transform px-4 sm:px-6\",role:\"dialog\",\"aria-modal\":\"true\",\"aria-labelledby\":ariaLabel,show:show,enter:\"transition ease-out duration-200\",enterStart:\"opacity-0 scale-95\",enterEnd:\"opacity-100 scale-100\",leave:\"transition ease-out duration-200\",leaveStart:\"opacity-100 scale-100\",leaveEnd:\"opacity-0 scale-95\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-auto max-w-6xl w-full max-h-full\",ref:modalContent,children:children})})]});}export default Modal;","map":{"version":3,"sources":["/Users/scoe/Developer/coecode-web/src/utils/Modal.js"],"names":["React","useEffect","useRef","Transition","Modal","children","id","ariaLabel","show","handleClose","modalContent","clickHandler","target","current","contains","document","addEventListener","removeEventListener","keyHandler","keyCode"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAAyC,OAAzC,CAEA,MAAOC,CAAAA,UAAP,KAAuB,wBAAvB,C,6IAEA,QAASC,CAAAA,KAAT,MAMG,IALDC,CAAAA,QAKC,MALDA,QAKC,CAJDC,EAIC,MAJDA,EAIC,CAHDC,SAGC,MAHDA,SAGC,CAFDC,IAEC,MAFDA,IAEC,CADDC,WACC,MADDA,WACC,CAED,GAAMC,CAAAA,YAAY,CAAGR,MAAM,CAAC,IAAD,CAA3B,CAEA;AACAD,SAAS,CAAC,UAAM,CACd,GAAMU,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,OAAgB,IAAbC,CAAAA,MAAa,OAAbA,MAAa,CACnC,GAAI,CAACJ,IAAD,EAASE,YAAY,CAACG,OAAb,CAAqBC,QAArB,CAA8BF,MAA9B,CAAb,CAAoD,OACpDH,WAAW,GACZ,CAHD,CAIAM,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmCL,YAAnC,EACA,MAAO,kBAAMI,CAAAA,QAAQ,CAACE,mBAAT,CAA6B,OAA7B,CAAsCN,YAAtC,CAAN,EAAP,CACD,CAPQ,CAAT,CASA;AACAV,SAAS,CAAC,UAAM,CACd,GAAMiB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,OAAiB,IAAdC,CAAAA,OAAc,OAAdA,OAAc,CAClC,GAAIA,OAAO,GAAK,EAAhB,CAAoB,OACpBV,WAAW,GACZ,CAHD,CAIAM,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqCE,UAArC,EAEA,MAAO,kBAAMH,CAAAA,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,CAAwCC,UAAxC,CAAN,EAAP,CACD,CARQ,CAAT,CAUA,mBACE,wCAEE,KAAC,UAAD,EACE,SAAS,CAAC,mEADZ,CAEE,IAAI,CAAEV,IAFR,CAGE,KAAK,CAAC,kCAHR,CAIE,UAAU,CAAC,WAJb,CAKE,QAAQ,CAAC,aALX,CAME,KAAK,CAAC,kCANR,CAOE,UAAU,CAAC,aAPb,CAQE,QAAQ,CAAC,WARX,CASE,cAAY,MATd,EAFF,cAeE,KAAC,UAAD,EACE,EAAE,CAAEF,EADN,CAEE,SAAS,CAAC,4FAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,aAAW,MAJb,CAKE,kBAAiBC,SALnB,CAME,IAAI,CAAEC,IANR,CAOE,KAAK,CAAC,kCAPR,CAQE,UAAU,CAAC,oBARb,CASE,QAAQ,CAAC,uBATX,CAUE,KAAK,CAAC,kCAVR,CAWE,UAAU,CAAC,uBAXb,CAYE,QAAQ,CAAC,oBAZX,uBAcE,YAAK,SAAS,CAAC,oDAAf,CAAoE,GAAG,CAAEE,YAAzE,UACGL,QADH,EAdF,EAfF,GADF,CAoCD,CAED,cAAeD,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Transition from '../utils/Transition.js';\n\nfunction Modal({\n  children,\n  id,\n  ariaLabel,\n  show,\n  handleClose\n}) {\n\n  const modalContent = useRef(null);\n\n  // close the modal on click outside\n  useEffect(() => {\n    const clickHandler = ({ target }) => {\n      if (!show || modalContent.current.contains(target)) return;\n      handleClose();\n    };\n    document.addEventListener('click', clickHandler);\n    return () => document.removeEventListener('click', clickHandler);\n  });  \n\n  // close the modal if the esc key is pressed\n  useEffect(() => {\n    const keyHandler = ({ keyCode }) => {\n      if (keyCode !== 27) return;\n      handleClose();\n    };\n    document.addEventListener('keydown', keyHandler);\n\n    return () => document.removeEventListener('keydown', keyHandler);\n  });  \n\n  return (\n    <>\n      {/* Modal backdrop */}\n      <Transition\n        className=\"fixed inset-0 z-50 bg-white bg-opacity-75 transition-opacity blur\"\n        show={show}\n        enter=\"transition ease-out duration-200\"\n        enterStart=\"opacity-0\"\n        enterEnd=\"opacity-100\"\n        leave=\"transition ease-out duration-100\"\n        leaveStart=\"opacity-100\"\n        leaveEnd=\"opacity-0\"\n        aria-hidden=\"true\"\n      />\n\n      {/* Modal dialog */}\n      <Transition\n        id={id}\n        className=\"fixed inset-0 z-50 overflow-hidden flex items-center justify-center transform px-4 sm:px-6\"\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby={ariaLabel}\n        show={show}\n        enter=\"transition ease-out duration-200\"\n        enterStart=\"opacity-0 scale-95\"\n        enterEnd=\"opacity-100 scale-100\"\n        leave=\"transition ease-out duration-200\"\n        leaveStart=\"opacity-100 scale-100\"\n        leaveEnd=\"opacity-0 scale-95\"\n      >\n        <div className=\"bg-white overflow-auto max-w-6xl w-full max-h-full\" ref={modalContent}>          \n          {children}\n        </div>\n      </Transition>    \n    </>\n  );\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.element),\n    PropTypes.element.isRequired\n  ]),\n  id: PropTypes.string,\n  ariaLabel: PropTypes.string,\n  show: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired\n};\n"]},"metadata":{},"sourceType":"module"}